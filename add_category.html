<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Add Category - Admin Panel</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css" />

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  </head>

  <body>
    <div class="admin-wrapper">
      <!-- ========== SIDEBAR ========== -->
      <aside class="sidebar">
        <div class="sidebar-header d-flex justify-content-between align-items-center">
          <h5 class="mb-0">ATELIER<span>.AW</span></h5>
          <button type="button" class="btn-close btn-close-white d-md-none" id="sidebarClose" aria-label="Close"></button>
        </div>

        <ul class="sidebar-menu">
          <li><a href="index.html"><i class="bi bi-speedometer2"></i> Dashboard</a></li>
          <li><a href="adminproject.html"><i class="bi bi-kanban"></i> Projects</a></li>
          <li><a href="admin_news.html"><i class="bi bi-newspaper"></i> News</a></li>
          <li><a href="admin_gallery.html"><i class="bi bi-images"></i> Gallery</a></li>
          <li class="active"><a href="admin_category.html"><i class="bi bi-tags"></i> Categories</a></li>
          <li class="logout-item"><a href="#"><i class="bi bi-box-arrow-right"></i> Logout</a></li>
        </ul>
      </aside>

      <!-- ========== MAIN CONTENT ========== -->
      <main class="main-content">
        <!-- Topbar -->
        <nav class="topbar">
          <button class="btn btn-light d-md-none" id="menuToggle"><i class="bi bi-list"></i></button>
        </nav>

        <!-- Content -->
        <div class="container-fluid py-4">
          <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="fw-bold">Add New Category</h2>
            <a href="admin_category.html" class="btn btn-outline-secondary"><i class="bi bi-arrow-left"></i> Back</a>
          </div>

          <div class="card border-0 shadow-sm">
            <div class="card-body p-4">
              <form class="needs-validation" novalidate>
                <div class="mb-4">
                  <label for="categoryTitle" class="form-label">Category Title</label>
                  <input type="text" class="form-control" id="categoryTitle" placeholder="Enter category title" required>
                  <div class="invalid-feedback">Please provide a category title.</div>
                </div>

                <button type="submit" class="btn btn-theme px-4">Save Category</button>
              </form>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      const toggle = document.getElementById("menuToggle");
      const closeBtn = document.getElementById("sidebarClose");
      const sidebar = document.querySelector(".sidebar");
      toggle.addEventListener("click", () => sidebar.classList.toggle("open"));
      closeBtn.addEventListener("click", () => sidebar.classList.remove("open"));

      document.addEventListener('DOMContentLoaded', function() {
        // --- Form Validation & Submit Simulation ---
        const form = document.querySelector('.needs-validation');
        form.addEventListener('submit', event => {
            if (!form.checkValidity()) {
                event.preventDefault();
                event.stopPropagation();
            } else {
                event.preventDefault(); // Prevent actual submission for demo

                const btn = form.querySelector('button[type="submit"]');
                const originalText = btn.innerHTML;

                // Set loading state
                btn.innerHTML = '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Saving...';
                btn.disabled = true;

                // Simulate saving process
                setTimeout(() => {
                    Swal.fire({
                        title: 'Success!',
                        text: 'Category Saved Successfully!',
                        icon: 'success',
                        confirmButtonText: 'Great!',
                        customClass: { confirmButton: 'btn btn-theme' },
                        buttonsStyling: false
                    });
                    btn.innerHTML = originalText;
                    btn.disabled = false;
                    form.reset();
                    form.classList.remove('was-validated');
                }, 1500);
            }

            form.classList.add('was-validated');
        }, false);

        // Logout Confirmation
        const logoutBtn = document.querySelector(".logout-item a");
        if (logoutBtn) {
          logoutBtn.addEventListener("click", (e) => {
            e.preventDefault();
            Swal.fire({
              title: "Logout?",
              text: "Are you sure you want to logout?",
              icon: "warning",
              showCancelButton: true,
              confirmButtonColor: "#dc3545",
              cancelButtonColor: "#6c757d",
              confirmButtonText: "Yes, Logout",
            }).then((result) => {
              if (result.isConfirmed) {
                window.location.href = "login.html";
              }
            });
          });
        }
      });
    </script>
  </body>
</html>